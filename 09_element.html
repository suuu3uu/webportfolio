<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>09_element</title>
    <script src="js/jquery-3.4.0.js"></script>
    <style>
    .added{
        color : palegreen;
    }
    </style>
</head>
<body>
    <h2>09_element</h2>
    <h3>1.요소생성</h3>
    <div id="area1"></div>
    <script>
    // 1.html문자열 
    var elem1 = "<p>안녕1</p>";
    $("#area1").append(elem1);

    // 2.선택자에 html태그 문자열 전달
    var elem2 = $("<p></p>").text("안녕2");
    var elem3= $("<h2></h2>").text("안녕하세요")
    $("#area1").append(elem3);

    // 3.javascript
    var p = document.createElement("p");
    var text = document.createTextNode("안녕3");
    p.appendChild(text);
    $("#area1").append(p);
    </script>

    <h3>2.요소추가</h3>
    <h4>추가할 요소기준</h4>
    <ul>
        <li>$(B).appendTo(A) : B를 A요소 내 뒷부분에 추가</li>
        <li>$(B).prependTo(A) : B를 A요소 내 앞부분에 추가</li>
        <li>$(B).insertAfter(A) : B를 A요소 뒤에 추가</li>
        <li>$(B).insertBefore(A) : B를 A요소 앞에 추가</li>
    </ul>
    <h1 id="test1"><span>A</span></h1>
    <h1 id="test2"><span>A</span></h1>
    <h1 id="test3"><span>A</span></h1>
    <hr>
    <h1 id="test4"><span>A</span></h1>
    <script>
    $("<span class ='added'>B</span>").appendTo($("#test1"));
    $("<span class ='added'>B</span>").prependTo($("#test2"));
    $("<span class ='added'>B</span>").insertAfter($("#test3"));
    $("<span class ='added'>B</span>").insertBefore($("#test4"));
    
    
    </script>

    <h4>기존 요소(부모요소)기준</h4>
    <ul>
        <li>$(A).append(B) : A요소 뒷부분에 B를 추가(자식)</li>
        <li>$(A).prepend(B) : A요소 앞부분에 B를 추가(자식)</li>
        <li>$(A).after(B): A요소 뒤에 형제로 B를 추가</li>
        <li>$(A).before(B): A요소 앞에 형제로 B를 추가</li>
    </ul>
    <h1 id="test5"><span>A</span></h1>
    <h1 id="test6"><span>A</span></h1>
    <h1 id="test7"><span>A</span></h1>
    <hr>
    <h1 id="test8"><span>A</span></h1>
    <script>

    var arr = ["B","C","D","E"];
    var idx = 0;

    var id = setInterval(function(){
    $("#test5").append("<span class='added'>"+arr[idx]+"</span>");
    $("#test6").prepend("<span class='added'>"+arr[idx]+"</span>");
    $("#test7").after("<span class='added'>"+arr[idx]+"</span>");
    $("#test8").before("<span class='added'>"+arr[idx]+"</span>");
      idx ++;

      //인터벌 함수 중지
      if(idx>3){
        clearInterval(id);
      }
    },1000);

    
    
    </script>

    <h3>3.요소복제</h3>
    <p>
        clone: html요소를 복사, 파라미터로 이벤트 복사 여부 결정(기본값: false)
    </p>
    <button id="btnClone">clone</button>
    <div id="clone-test">
        <div id="item1" class="item">
            <span>안녕</span>
        </div>
    </div>
    <script>
    $("#item1").hover(function(){
         // mouseenter
         $(this).addClass("lime");
    },function(){
          //mouseleave
        $(this).removeClass("lime");
    });

    $("#btnClone").click(function(){
        
        //이벤트 복사여부를 매개인수로 전달
       $("#item1").clone(true)  //이벤트없을시 false
                  .appendTo($("#clone-test"));
    });
    
    </script>
    <style>
    .item{
        width: 100px;
        height: 100px;
        display: inline-block;
        margin: 5px 5px 0 0;
        text-align: center;
        line-height: 100px;
        background: lightblue;
    }
    .item span{
        font-size:  24px;
        font-weight: bold;
        color: white;
    }
    .lime{
        background-color: lime;
    }
    .box{
        width: 100px;
        height: 100px;
        padding: 5px 10px 15px 10px;
        margin: 10px;
    }
    #remove-test{
        border: 2px solid red;
    }
    #result{
        border: 2px dashed blue;
    }
    
    </style>

    <h3>4.요소제거 및 제거된 요소 핸들링</h3>
    <ul>
        <li>empty() : 모든 자식요소를 제거</li>
        <li>remove() : 요소삭제후 삭제된 요소를 리턴 . 연관 이벤트도 삭제</li>
        <li>detach() : 요소삭제후 삭제된 요소를 리턴 . 연관 이벤트는 보관</li>
    </ul>
    <button id="empty">empty</button>
    <button id="remove">remove</button>
    <button id="detach">detach</button>
    <div  id="remove-test" class="box">
      <div id="item2" class="item"><span>안녕</span></div>

    </div>
    <div class="box" id="result"></div>

    <script>
    // 대상의 요소 이벤트
    $("#item2").hover(function(){
      $(this).toggleClass("lime");
    },function(){
      $(this).toggleClass("lime");

    });

    //empty
    $("#empty").click(function(){
     // 자식요소 삭제
     $("#remove-test").empty();
    });  
    
    //remove
    $("#remove").click(function(){
    var el = $("#item2").remove();
    $("#result").html(el);
    });


    //detach
    $("#detach").click(function(){
        var el = $("#item2").detach();
        $("#result").html(el);
    });
    </script>

    
</body>
</html>